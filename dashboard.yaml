button_card_templates:
  nav_card:
    show_label: true
    show_name: false
    show_icon: false
    show_state: true
    aspect_ratio: 4/1
    styles:
      card:
        - font-family: Montserrat
        - font-size: 1rem
        - background: var(--accent-secondary)
        - border: 2px solid var(--accent)
        - color: var(--text)
        - box-shadow: 1px 1px 1px rgb(255, 255, 255, 0.3)
      icon:
        - color: var(--text)
        - justify-self: center
        - align-self: center
        - width: 35px
      label:
        - font-size: 1rem
        - justify-self: start
        - align-self: center
        - text-align: left
      state:
        - text-align: left
        - justify-self: left
        - align-self: center
      grid:
        - grid-template-columns: 0.5fr 1.5fr 1fr 1fr 0.5fr
        - grid-template-rows: 1fr 1fr
        - grid-template-areas: '". l s s ." ". l s s ."'
        - row-gap: 8px
  office_card:
    show_label: true
    show_name: false
    show_icon: true
    aspect_ratio: 6/1
    styles:
      card:
        - font-family: Montserrat
        - font-size: 1rem
        - background: var(--accent-secondary)
        - color: var(--grey)
      icon:
        - color: var(--grey)
        - justify-self: center
        - align-self: center
        - width: 35px
      label:
        - font-size: 1.5rem
        - justify-self: start
        - align-self: center
      state:
        - text-align: left
        - justify-self: start
        - align-self: center
      grid:
        - grid-template-columns: 1fr 1fr 1fr 1fr
        - grid-template-rows: 1fr
        - grid-template-areas: '"i l l"'
        - row-gap: 8px
  transparent_full_width_card:
    show_icon: false
    show_label: true
    aspect_ratio: 3/1
    styles:
      card:
        - font-family: Montserrat
        - font-size: 2.5rem
        - background: none
        - border: none
        - overflow: visible
      icon:
        - color: white
      state:
        - text-align: center
        - justify-self: center
        - align-self: center
        - color: var(--text)
      grid:
        - grid-template-columns: 1fr 1fr 1fr
        - grid-template-rows: 1fr
        - grid-template-areas: '"s s s"'
views:
  - title: Home
    type: custom:grid-layout
    layout:
      grid-template-columns: 10% auto auto auto auto 10%
      grid-template-rows: auto
      grid-template-areas: >
        "header-left header-left header header header-right header-right"    "row1 row1 row1
        row1 row1 row1" "row2 row2 row2 row2 row2 ." "row3 row3 row3
        row3 row3 row3" "row4 row4 row4
        row4 row4 row4"   "row5 row5 row5 row5 row5 row5" "row6 row6 row6 row6 row6 row6"
    theme: Antons-theme-1
    badges: []
    cards:
      - type: horizontal-stack
        view_layout:
          grid-area: header-left
        cards:
          - type: custom:mushroom-person-card
            entity: person.anton
            name: Anton
            icon_type: entity-picture
            layout: vertical
            primary_info: none
            secondary_info: none
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: none;
                }
          - type: custom:mushroom-person-card
            entity: person.kajsa
            name: Kajsa
            layout: vertical
            icon_type: entity-picture
            primary_info: none
            secondary_info: none
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: none;
                  margin: 0px;
                }
      - type: custom:mushroom-title-card
        title: Home
        alignment: center
        view_layout:
          grid-area: header
        card_mod:
          style: |
            ha-card {
            font-family: Montserrat;
            }
      - type: horizontal-stack
        view_layout:
          grid-area: header-right
        cards:
          - type: custom:mushroom-alarm-control-panel-card
            entity: alarm_control_panel.alarmo
            states: []
            layout: vertical
            show_keypad: false
            primary_info: none
            secondary_info: none
            fill_container: false
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: none;
                }
          - type: custom:mushroom-template-card
            view_layout:
              grid-area: row2
            primary: ''
            secondary: ''
            icon: mdi:cog
            tap_action:
              action: navigate
              navigation_path: /config
            layout: vertical
            icon_color: grey
            hold_action:
              action: none
            double_tap_action:
              action: none
            card_mod:
              style: |
                ha-card {
                  background: none;
                  border: none;
                }
      - type: custom:button-card
        entity: input_select.house_mode
        state_display: |
          [[[
            let house_state = states['input_select.house_mode'].state
            return "The house " + "<br>" + "is in " + "<span style=font-weight:bold>" + house_state + "</span>" + "<br>" + " mode."; 
          ]]]
        template: transparent_full_width_card
        view_layout:
          grid-area: row1
        show_state: true
        show_name: false
      - type: custom:mushroom-title-card
        title: Navigate
        alignment: start
        view_layout:
          grid-area: row2
        card_mod:
          style: |
            ha-card {
            font-family: Montserrat;
            }
      - type: custom:button-card
        view_layout:
          grid-area: row3
        template: nav_card
        entity: sensor.total_lights_on
        label: Smart <br>Home
        state_display: |
          [[[
          let totalLightsOn = states['sensor.total_lights_on']; 
          let lightsOnMessage = totalLightsOn ? totalLightsOn.state + ' lights<br> currently on.' : '"No information " + "<br>" + "available."';
          return lightsOnMessage;
          ]]]
      - type: custom:button-card
        view_layout:
          grid-area: row4
        template: nav_card
        label: Media <br>controls
        icon: fas:compact-disc
        state_display: |
          [[[
          let kontorPlayer = states['media_player.kontor'];
          let vardagsrumPlayer = states['media_player.vardagsrum'];
          let kontorPlaying = (kontorPlayer && kontorPlayer.state === 'playing' && kontorPlayer.attributes && kontorPlayer.attributes.media_title) ? kontorPlayer.attributes.media_title : null;
          let vardagsrumPlaying = (vardagsrumPlayer && vardagsrumPlayer.state === 'playing' && vardagsrumPlayer.attributes && vardagsrumPlayer.attributes.media_title) ? vardagsrumPlayer.attributes.media_title : null;
          let result = '';    
          if (kontorPlaying && vardagsrumPlaying) {
            result += kontorPlaying + '<br>';
            result += 'is playing in Kontor<br><br>';
            result += vardagsrumPlaying + '<br>';
            result += 'is playing in Vardagsrum';
          } else if (kontorPlaying) {
            result += kontorPlaying + '<br>';
            result += 'is playing in Kontor';
          } else if (vardagsrumPlaying) {
            result += vardagsrumPlaying + '<br>';
            result += 'is playing in Vardagsrum';
          } else {
            result = 'Nothing playing';
          }
          return result;
          ]]]
      - type: custom:button-card
        view_layout:
          grid-area: row5
        template: nav_card
        entity: sensor.develco_zhemi101_instantaneous_demand
        label: Energy <br>Dashboard
        state_display: |
          [[[
            let powerDrawSensor = states['sensor.develco_zhemi101_instantaneous_demand']; // Replace 'sensor.develco_zhemi101_instantaneous_demand' with your actual sensor entity ID
            let powerDrawMessage = powerDrawSensor ? 'Current power draw: '+ '<br>' + powerDrawSensor.state + ' kWh' : 'No information available.';
            return powerDrawMessage;
          ]]]
        icon: fas:leaf
      - type: custom:button-card
        view_layout:
          grid-area: row6
        template: nav_card
        entity: alarm_control_panel.alarmo
        label: Home <br>Security
        state_display: |
          [[[
            let alarmStatus = states['alarm_control_panel.alarmo']; // Replace 'alarm_control_panel.alarmo' with your actual entity ID for the house alarm
            let alarmMessage = alarmStatus ? 'House alarm is <br>currently ' + alarmStatus.state + '.' : 'No alarm information available.';
            return alarmMessage;
          ]]]
        icon: fas:user-shield
